"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{229759:function(e,t,o){o.d(t,{Z:function(){return j},W:function(){return v}});var n=o(824246),s=o(679892),i=o.n(s),r=o(298784),c=o.n(r),a=o(827378),l=o(50682),d=o.n(l),u=o(524306),h=o.n(u),p=o(792739);function f(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){f(e,t,o[t])}))}return e}class m extends a.Component{render(){const[e,t]=this.state.relativeMousePos,o=this.ref.current?this.ref.current.getBoundingClientRect():{},s=c().get(o,"width",0),r=c().get(o,"height",0);return(0,n.jsxs)("div",{style:b({},this.props.containerStyle),onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter,ref:this.ref,className:"jsx-801e0b339c739146 image-parent",children:[(0,n.jsx)("img",{style:this.props.imageStyle,src:this.props.src,onClick:()=>{this.props.clickImageToOpenInNewTab&&window.open(this.props.src,"_blank")},className:"jsx-801e0b339c739146 "+((this.props.clickImageToOpenInNewTab?"clickable":"")||"")}),this.state.hovered&&(0,n.jsx)("div",{style:{width:"100%",height:"100%",top:`${t}px`,left:`${e}px`},className:"jsx-801e0b339c739146 image-hover-parent",children:(0,n.jsx)("div",{style:{backgroundPosition:`${s/2*1-e}px ${r/2*1-t}px`,backgroundImage:`url(${this.props.src})`,backgroundSize:`${s}px ${r}px`},className:"jsx-801e0b339c739146 image-hover-child"})}),(0,n.jsx)(i(),{id:"801e0b339c739146",children:".image-parent.jsx-801e0b339c739146{position:relative;overflow:hidden;margin:8px 0}.image-hover-parent.jsx-801e0b339c739146{position:absolute;background:transparent;z-index:100;-webkit-transform:translate(-50%,-50%)scale(2);-moz-transform:translate(-50%,-50%)scale(2);-ms-transform:translate(-50%,-50%)scale(2);-o-transform:translate(-50%,-50%)scale(2);transform:translate(-50%,-50%)scale(2);overflow:hidden;pointer-events:none}.image-hover-child.jsx-801e0b339c739146{background-repeat:no-repeat;width:100%;height:100%}img.clickable.jsx-801e0b339c739146{cursor:pointer}"})]})}constructor(e){super(e),this.ref=a.createRef(),this.getRelativeMousePos=e=>{if(!this.ref.current)return e;const t=this.ref.current.getBoundingClientRect();return[e[0]-t.left,e[1]-t.top]},this.onMouseMove=e=>{this.setState({relativeMousePos:this.getRelativeMousePos([e.pageX,e.pageY])})},this.onMouseEnter=e=>{this.setState({relativeMousePos:this.getRelativeMousePos([e.pageX,e.pageY]),hovered:!0})},this.onMouseLeave=()=>{this.setState({hovered:!1})},this.state={relativeMousePos:[0,0],hovered:!1}}}m.defaultProps={imageStyle:{},containerStyle:{},clickImageToOpenInNewTab:!0};var x=o(883617),g=o(848941);function v(e){if(e.global||!e.labels)return"Common Instructions";const t=e.labels.map((e=>c().startCase(e.replace(/_/g," "))));return t.slice(0,-2).join(", ")+(t.slice(0,-2).length?", ":"")+t.slice(-2).join(" and ")}class y extends a.Component{renderExamples(){const e=this.props.instructionItem.examples||[];return(0,n.jsxs)("div",{className:"jsx-593bae46eadbe1ac",children:[c().map(e,(e=>(0,n.jsxs)("div",{className:"jsx-593bae46eadbe1ac",children:[(0,n.jsx)("div",{className:"jsx-593bae46eadbe1ac example-description",children:(0,n.jsx)(x.Z,{text:e.description||""})}),(0,n.jsxs)("div",{className:"jsx-593bae46eadbe1ac example__images",children:[(0,n.jsx)("div",{className:"jsx-593bae46eadbe1ac correct__col example__col",children:!c().isEmpty(e.correct)&&(0,n.jsxs)("div",{className:"jsx-593bae46eadbe1ac",children:[(0,n.jsx)("h3",{className:"jsx-593bae46eadbe1ac",children:"Correct"}),c().map(e.correct,(e=>(0,n.jsx)(m,{src:e,imageStyle:{border:"solid #19b629 2px"}},e)))]})}),(0,n.jsx)("div",{className:"jsx-593bae46eadbe1ac incorrect__col example__col",children:!c().isEmpty(e.incorrect)&&(0,n.jsxs)("div",{className:"jsx-593bae46eadbe1ac",children:[(0,n.jsx)("h3",{className:"jsx-593bae46eadbe1ac",children:"Incorrect"}),c().map(e.incorrect,(e=>(0,n.jsx)(m,{src:e,imageStyle:{border:"solid #ec322f 2px"}},e)))]})})]})]}))),(0,n.jsx)(i(),{id:"593bae46eadbe1ac",children:".example-description.jsx-593bae46eadbe1ac{margin-left:16px}.example__images.jsx-593bae46eadbe1ac{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.example__col.jsx-593bae46eadbe1ac{margin:5px;margin-left:auto;margin-right:auto;padding:0 20px;-webkit-flex:1;-ms-flex:1;flex:1}.correct__col.jsx-593bae46eadbe1ac h3.jsx-593bae46eadbe1ac{color:#19b629}.correct__col.jsx-593bae46eadbe1ac img.jsx-593bae46eadbe1ac{border:solid#19b629 2px}.incorrect__col.jsx-593bae46eadbe1ac h3.jsx-593bae46eadbe1ac{color:#ec322f}.incorrect__col.jsx-593bae46eadbe1ac img.jsx-593bae46eadbe1ac{border:solid#ec322f 2px}img.jsx-593bae46eadbe1ac{margin-bottom:20px;margin-left:auto;margin-right:auto;max-width:30vw;width:100%;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}h3.jsx-593bae46eadbe1ac{text-align:center}"})]})}copyId(){this.setState({copyMessage:"Successfully copied ID!"},(()=>{(0,g.$)(),setTimeout((()=>{this.setState({copyMessage:void 0}),(0,g.$)()}),2e3)}))}renderCopyButton(){const e=this.props.instructionItem._id;return this.props.showInstructionItemIdOnHover?(0,n.jsx)(h(),{text:e,onCopy:this.copyId.bind(this),children:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"copy-icon","data-tip":this.state.copyMessage||"Copy Instruction Item ID to Clipboard","data-for":`annotation-list-actions-${e}`,children:(0,n.jsx)(p.G,{icon:"copy"})},this.state.copyMessage?"copy":"default"),(0,n.jsx)(d(),{id:`annotation-list-actions-${e}`,ref:this.tooltipRef}),(0,n.jsx)("textarea",{ref:this.textareaRef,value:e})]})}):null}render(){return(0,n.jsxs)("div",{className:"instruction-item",children:[this.renderCopyButton(),(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsx)(x.Z,{text:this.props.instructionItem.text||""})}),c().get(this.props.instructionItem,"examples",[]).length>0&&(0,n.jsx)("div",{style:{flex:1},children:this.renderExamples()})]}),this.props.showInstructionItemIdOnHover&&(0,n.jsx)(i(),{id:"2302f4abadd5b7c4",children:".instruction-item.jsx-2302f4abadd5b7c4{position:relative;-webkit-transition:.125s all;-moz-transition:.125s all;-o-transition:.125s all;transition:.125s all;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;padding-bottom:2px}.copy-icon.jsx-2302f4abadd5b7c4{position:absolute;right:8px;top:8px;visibility:hidden;-webkit-transition:.125s all;-moz-transition:.125s all;-o-transition:.125s all;transition:.125s all;cursor:pointer}.copy-icon.jsx-2302f4abadd5b7c4:hover{-webkit-transform:scale(1.05)rotate(2deg);-moz-transform:scale(1.05)rotate(2deg);-ms-transform:scale(1.05)rotate(2deg);-o-transform:scale(1.05)rotate(2deg);transform:scale(1.05)rotate(2deg)}.instruction-item.jsx-2302f4abadd5b7c4:hover{background-color:#f0f0f0}.instruction-item.jsx-2302f4abadd5b7c4:hover .copy-icon.jsx-2302f4abadd5b7c4{visibility:visible}.instruction-item.jsx-2302f4abadd5b7c4 textarea.jsx-2302f4abadd5b7c4{opacity:.01;height:0;position:absolute;z-index:-1}"})]})}constructor(...e){super(...e),this.textareaRef=a.createRef(),this.tooltipRef=a.createRef(),this.state={copyMessage:void 0}}}var j=y},75896:function(e,t,o){o.d(t,{bq:function(){return p}});var n=o(824246),s=o(679892),i=o.n(s),r=o(298784),c=o.n(r),a=o(827378),l=o(229759),d=o(416233),u=o(75384);function h(e){if(0===e.length)return[];const t=[];let o=[];return e.forEach((e=>{!function(e,t){return void 0===e||!(!e.global||!t.global)||(0,l.W)(e)===(0,l.W)(t)}(o[0],e)?(t.push(o),o=[e]):o.push(e)})),t.push(o),t}function p(e){const t=[...c().get(e,"objects_to_annotate",[])];if(c().isEmpty(t))return()=>!0;const o=[];for(;t.length>0;){const e=t.shift();c().isString(e)?o.push(e):c().isObject(e)&&(c().isString(e.choice)&&o.push(e.choice),c().isArray(e.subchoices)&&t.push(...e.subchoices))}return e=>e.global||c().some(e.labels,(e=>o.includes(e)))}class f extends a.Component{showInstructionItemIdOnHover(){return this.props.showInstructionItemIdOnHover||c().get(this.props.user,"isCorporateUser")}componentDidMount(){this.setState({loadedAt:new Date})}componentWillUnmount(){const{loadedAt:e}=this.state;if(e&&this.props.emitMetrics){const t=+new Date-+e;d.c.track("Loaded Instructions",{timeElapsed:t,isFullInstructions:this.props.isFullInstructions})}}renderInstructionCluster(e){return 0===e.length?null:(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:(0,l.W)(e[0])}),e.map((e=>(0,n.jsx)(l.Z,{instructionItem:e,showInstructionItemIdOnHover:this.showInstructionItemIdOnHover()},e.name)))]})}selectSection(e){this.setState({selectedSection:e});const t=document.getElementById(e);t&&t.scrollIntoView()}render(){let e=this.props.instructionList.instructionSet;this.props.filter&&(e=e.filter(this.props.filter));const[t,o]=c().partition(e,(e=>!0!==e.global)),s=h(t),r=[o],a=this.props.bringGlobalToBottom?[s,r]:[r,s];return(0,n.jsxs)("div",{className:"jsx-1535e907546f9bd4 container",children:[(0,n.jsxs)("div",{className:"jsx-1535e907546f9bd4 container",children:[(0,n.jsx)("div",{className:"jsx-1535e907546f9bd4 col col-1",children:a.map(((e,t)=>{const o=0===t&&a.length>1;return e.map(((e,s)=>{const i=`${t}-${s}`,r=["item-link"];return this.state.selectedSection===i&&r.push("selected"),o&&r.push("important"),0===e.length?null:(0,n.jsx)("div",{onClick:this.selectSection.bind(this,i),className:"jsx-1535e907546f9bd4 "+(r.join(" ")||""),children:(0,l.W)(e[0])},`${i}-label`)}))}))}),(0,n.jsx)("div",{className:"jsx-1535e907546f9bd4 col col-3",children:a.map(((e,t)=>e.map(((e,o)=>{const s=`${t}-${o}`;return(0,n.jsx)("div",{id:s,className:"jsx-1535e907546f9bd4",children:this.renderInstructionCluster(e)},`${s}-cluster`)}))))})]}),(0,n.jsx)(i(),{id:"1535e907546f9bd4",children:".container.jsx-1535e907546f9bd4{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;width:800px;height:100%;max-height:80vh}.col.jsx-1535e907546f9bd4{overflow:scroll}.col-1.jsx-1535e907546f9bd4{-webkit-flex:1;-ms-flex:1;flex:1}.col-3.jsx-1535e907546f9bd4{-webkit-flex:3;-ms-flex:3;flex:3}.item-link.jsx-1535e907546f9bd4{-webkit-transition:.25s all;-moz-transition:.25s all;-o-transition:.25s all;transition:.25s all;cursor:pointer;padding:6px;width:90%}.item-link.jsx-1535e907546f9bd4:not(.selected):hover{background-color:#e0dfe6}div.item-link.selected.jsx-1535e907546f9bd4{background-color:var(--color-RemoGray75);color:#fff}.item-link.important.jsx-1535e907546f9bd4{background-color:#f5f4f9}"})]})}constructor(e){super(e),this.state={}}}f.defaultProps={filter:()=>!0,bringGlobalToBottom:!1,isFullInstructions:!0,showInstructionItemIdOnHover:!1,emitMetrics:!0},t.ZP=(0,u.n)(f)},948106:function(e,t,o){var n=o(824246),s=o(679892),i=o.n(s),r=o(827378),c=o(68649),a=o(135647),l=o(746332),d=o(60042),u=o.n(d);const h=({instructions:e,backgroundColor:t})=>{const o={__html:a.Z.render(e)},s=(0,c.ZL)({instructionsContainer:{minHeight:"70vh",padding:"0 32px",display:"flex",alignItems:"stretch",backgroundColor:t||"#fff",[`@media (max-width: ${l.MOBILE_THRESHOLD})`]:{padding:0}}})();return(0,n.jsxs)("div",{className:"jsx-3f6a764f3f72bb08 "+(u()(s.instructionsContainer)||""),children:[(0,n.jsx)("div",{dangerouslySetInnerHTML:o,className:"jsx-3f6a764f3f72bb08 instructions--markdown"}),(0,n.jsx)(i(),{id:"3f6a764f3f72bb08",children:".instructions--markdown{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:left;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}.instructions--markdown iframe{height:100%!important}.instructions--markdown img{max-width:600px}.instructions--markdown h1{font-weight:700;font-style:normal;font-size:40px;margin-left:-2.5px;line-height:45px;letter-spacing:-.028em}.instructions--markdown h2{font-weight:700;font-style:normal;font-size:36px;margin-left:-2.5px;line-height:38px;letter-spacing:-.028em}.instructions--markdown h3{font-weight:700;font-style:normal;font-size:28px;margin-left:-2.5px;line-height:33px;letter-spacing:-.028em}.instructions--markdown h4{font-weight:700;font-style:normal;font-size:24px;margin-left:-2.5px;line-height:26px;letter-spacing:-.028em}.instructions--markdown h5{font-weight:700;font-style:normal;font-size:18px;margin-left:-2.5px;line-height:22px;letter-spacing:-.028em}.instructions--markdown h6{font-weight:700;font-style:normal;font-size:18px;margin-left:-2.5px;line-height:20px;letter-spacing:-.028em}.instructions--markdown blockquote{background-color:#efefef;margin:0;padding:10px 30px}.instructions--markdown pre{background-color:#efefef;border:1px solid#ccc;padding:10px 40px;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}.instructions--markdown p{font-weight:400;font-style:normal;font-size:15px;line-height:1.6;letter-spacing:0}"})]})};t.Z=r.memo(h)},434515:function(e,t,o){o.d(t,{Z:function(){return g}});var n=o(824246),s=o(792739),i=o(703818),r=o(827378),c=o(287216),a=o(625008),l=o(138944),d=o(68649);const u=(0,d.ZL)((()=>({collapseButton:{cursor:"pointer",marginRight:8,width:16,fontSize:"12px",textAlign:"center",opacity:.5,"&:hover":{opacity:1}},headerTitle:{fontWeight:500,width:"100%",alignItems:"center"},headerTitleCount:{color:"var(--color-RemoGray50)"},additionCount:{color:"green"},deletionCount:{color:"red"},node:{display:"flex",padding:"8px 8px",alignItems:"center",background:"white",userSelect:"none",cursor:"pointer","&:hover":{background:"var(--color-RemoGray01)"},"&.isSelected":{background:"var(--color-RemoGray10)"}}})));var h=({node:e,nodeRef:t,collapsed:o,onToggleCollapsed:i,selectedChoice:c,setSelectedChoice:a,color:d,change:h,priority:p})=>{const f=u(),b=(0,r.useMemo)((()=>Math.max(e.depth-1,0)),[e.depth]),m=(0,r.useMemo)((()=>({paddingLeft:8+24*b,color:d})),[b,d]),x=e.subtreeSize-1;var g;return(0,n.jsxs)("div",{ref:t,className:(0,l.default)(f.node,{isSelected:c&&c.choice===e.choice}),onClick:()=>a&&a(e),style:m,children:[x>0?(0,n.jsx)("div",{className:f.collapseButton,onClick:t=>{t.stopPropagation(),i(e.choice+e.depth)},children:(0,n.jsx)(s.G,{icon:o?"chevron-right":"chevron-down"})}):(0,n.jsx)("div",{className:f.collapseButton,style:{opacity:0},children:(0,n.jsx)(s.G,{color:"white",icon:"chevron-right"})}),(0,n.jsxs)("div",{className:f.headerTitle,children:[null!==(g=e.display)&&void 0!==g?g:e.choice," ",x>0&&(0,n.jsxs)("span",{style:{color:"var(--color-RemoGray50)"},children:["(",e.subtreeSize-1,")"]})," ",h&&(0,n.jsxs)("span",{style:{color:"black"},children:["(",(0,n.jsx)("span",{style:{color:"red"},children:h.deletions>0&&`-${h.deletions}`}),h.deletions>0&&h.additions>0&&" ",(0,n.jsx)("span",{style:{color:"green"},children:h.additions>0&&`+${h.additions}`}),")"]}),p&&(0,n.jsx)(s.G,{icon:"arrow-up",style:{marginLeft:"auto"},color:"dodgerblue"})]})]})},p=o(455045),f=o(223841);const b=(0,d.ZL)({rootTitle:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",marginRight:12,fontWeight:500},node:{display:"flex",padding:"8px 8px",alignItems:"center",background:"white"}}),m=({onSearch:e,searchQuery:t})=>{const o=b(),s=(0,r.useCallback)((t=>{const o=t.target.value;e(o)}),[e]);return(0,n.jsx)("div",{className:o.node,children:(0,n.jsx)("span",{className:o.rootTitle,children:(0,n.jsx)(a.oi,{onChange:s,placeholder:"Search Choices...",size:"medium",value:t,style:{width:"100%"}})})})};var x=r.memo(m);var g=({ontologies:e,selectedOntology:t,setSelectedOntology:o,selectedChoice:l,setSelectedChoice:d,colorMap:u,changes:b,priorityLabels:m})=>{const[g,v]=(0,c.Z)(),y=(0,r.useMemo)((()=>{if(!e||0===e.length)return[];const t=[];for(const o of e)o.ontology=(0,i.Qs)(o.ontology),t.push(o);return t}),[e]),j=(0,r.useMemo)((()=>y&&0!==y.length?y[t].ontology:[]),[y,t]),w=(0,r.useMemo)((()=>j.some((e=>(0,i.Gj)(e)))),[j]),k=(0,r.useMemo)((()=>new Set(m)),[m]),{0:S,1:I}=(0,r.useState)(),{0:O,1:C}=(0,r.useState)(""),{0:_,1:M}=(0,r.useState)(new Set),{0:z,1:P}=(0,r.useState)(new Set),E=(0,r.useCallback)((()=>{I(void 0),C(""),M(new Set),P(new Set)}),[]),N=(0,r.useCallback)((e=>{if(0===e.length)return void E();const{node:t,matches:o,matchesString:n}=(0,i.Jo)({choice:"root",subchoices:j},e,!1);M(o),P(n),I(t)}),[j]);(0,r.useEffect)((()=>{1===_.size&&d&&_.forEach((e=>d(e)))}),[_]),(0,f.Z)((()=>{N(O)}),100,[O]);const R=(0,r.useMemo)((()=>S||{choice:"root",subchoices:j}),[S,j]),$=()=>{const e=(0,i.BG)({choice:"root",subchoices:j}).filter((e=>e.depth>0)).map((e=>e.choice+e.depth));for(const t of e)v.add(t)};(0,r.useEffect)((()=>{0===g.size&&$()}),[j]);const T=(0,r.useMemo)((()=>(0,i.BG)(R,g,u).filter((({choice:e,flagged:t})=>!t&&"root"!==e))),[R,g,u]),A=(0,r.useRef)(null),{0:L,1:G}=(0,r.useState)({}),{0:B,1:Z}=(0,r.useState)("");var D;(0,r.useEffect)((()=>{G((e=>T.reduce(((t,o)=>(t[o.choice]=e[o.choice]||(0,r.createRef)(),t)),{})))}),[T]),(0,r.useEffect)((()=>{if(!l)return;const e=(0,i.EW)(j,l);if(0===e.length)return;let t=j,o=0;for(;o+1<e.length;){const n=t[e[o]];g.has(n.choice+(o+1))&&v.remove(n.choice+(o+1)),t=n.subchoices,o++}Z(l.choice)}),[l]),(0,r.useEffect)((()=>{var e;if(!A.current||!B)return;const t=null===(e=L[B])||void 0===e?void 0:e.current;t&&(A.current.focus(),t.scrollIntoView({block:"center",behavior:"smooth"}),Z(""))}),[B,L]);const H=(null!==(D=e[t].name)&&void 0!==D?D:"").length>10;return(0,n.jsxs)("div",{style:{width:"100%",overflowX:"hidden"},children:[(0,n.jsxs)("div",{style:{display:H?"block":"flex",padding:o||w?8:0},children:[o&&(0,n.jsx)(p.Z,{ontologies:e,selectedOntology:t,setSelectedOntology:o}),w&&(0,n.jsxs)("div",{style:{display:"flex"},children:[(0,n.jsx)(a.u,{title:"Expand all ontology choices",children:(0,n.jsx)("div",{onClick:v.reset,style:{fontSize:30},children:(0,n.jsx)(s.G,{icon:["far","plus-square"],style:{cursor:"pointer"},size:"sm"})})}),(0,n.jsx)(a.u,{title:"Collapse all ontology choices",children:(0,n.jsx)("div",{onClick:$,style:{fontSize:30,paddingLeft:20},children:(0,n.jsx)(s.G,{icon:["far","minus-square"],style:{cursor:"pointer"},size:"sm"})})})]})]}),(0,n.jsx)(x,{searchQuery:O,onSearch:C}),(0,n.jsx)("div",{ref:A,children:T.map((e=>{var t;return(0,n.jsx)(h,{node:e,nodeRef:L[e.choice],collapsed:g.has(e.choice+e.depth),onToggleCollapsed:v.toggle,selectedChoice:l,setSelectedChoice:d,color:u?e.color:z.has(e.choice)?"purple":"black",change:b&&b[e.choice+e.depth],priority:k.has(null!==(t=e.display)&&void 0!==t?t:e.choice)},e.choice+e.depth+e.color)}))})]})}},455045:function(e,t,o){var n=o(824246),s=o(298784),i=o.n(s),r=(o(827378),o(625008));t.Z=({ontologies:e,selectedOntology:t,setSelectedOntology:o})=>{var s,c,a;return 1===e.length?(0,n.jsx)(n.Fragment,{}):(0,n.jsx)(r.Ph,{onChange:e=>{o(e.target.value)},value:null!==t&&void 0!==t?t:e.length-1,placeholder:null!==(c=null===(s=i().nth(e,t))||void 0===s?void 0:s.name)&&void 0!==c?c:`v${t}`,style:{marginRight:10,marginBottom:10,maxWidth:400},children:e.map(((e,t)=>(0,n.jsx)(r.Wx,{value:t,children:null!==(a=e.name)&&void 0!==a?a:`v${t}`},t)))})}},287216:function(e,t,o){var n=o(827378);function s(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}t.Z=(e=new Set)=>{const{0:t,1:o}=(0,n.useState)(e),i=(0,n.useMemo)((()=>({add:e=>o((t=>new Set([...Array.from(t),e]))),remove:e=>o((t=>new Set(Array.from(t).filter((t=>t!==e))))),toggle:e=>o((t=>t.has(e)?new Set(Array.from(t).filter((t=>t!==e))):new Set([...Array.from(t),e]))),reset:()=>o(e)})),[o]),r=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){s(e,t,o[t])}))}return e}({has:(0,n.useCallback)((e=>t.has(e)),[t])},i);return[t,r]}},848941:function(e,t,o){o.d(t,{$:function(){return r}});var n=o(50682),s=o.n(n),i=o(298784);const r=o.n(i)().debounce((()=>{s().rebuild()}))},376189:function(e,t,o){var n=o(827378),s=o(572084),i=o(872383);function r(e,t,o,n,s,i,r){try{var c=e[i](r),a=c.value}catch(l){return void o(l)}c.done?t(a):Promise.resolve(a).then(n,s)}function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){c(e,t,o[t])}))}return e}t.Z=()=>{const{0:e,1:t}=(0,n.useState)([]),{0:o,1:c}=(0,n.useState)(!1),l=(0,n.useCallback)(function(){var e,o=(e=function*(e){if(!e.length)return;c(!0);const o=new AbortController,n=setTimeout((()=>o.abort()),5e3),r=yield(0,i.V3)({feature:"studio-privacy-mode-assume-image"}),l=yield Promise.all(e.map((e=>fetch(e.content,{method:"HEAD",signal:o.signal}).catch((e=>{})))));clearTimeout(n);const d=e.map(((e,t)=>{let o=s.sfQ.Unprocessed;if(r)return o=s.sfQ.Image,a({},e,{type:o});const n=l[t];if(!n)return a({},e);const i=(e=>{const t={},o=e.keys();let n=o.next();for(;n.value;)t[n.value]=e.get(n.value),n=o.next();return t})(n.headers)["content-type"];return i.match("image/*")?o=s.sfQ.Image:i.match("text/*")?o=s.sfQ.Text:i.match("video/*")?o=s.sfQ.Video:"application/pdf"===i?o=s.sfQ.PDF:i.match("audio/*")&&(o=s.sfQ.Audio),a({},e,{type:o})}));return t(d),c(!1),d},function(){var t=this,o=arguments;return new Promise((function(n,s){var i=e.apply(t,o);function c(e){r(i,n,s,c,a,"next",e)}function a(e){r(i,n,s,c,a,"throw",e)}c(void 0)}))});return function(e){return o.apply(this,arguments)}}(),[]);return{attachments:e,isLoading:o,fetchUnprocessedAttachments:l}}},70530:function(e,t,o){o.d(t,{E:function(){return c}});var n=o(702753),s=o.n(n);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){i(e,t,o[t])}))}return e}function c(e,t,o,n,i,c,a,l){const d=e.uuid||"",u=t.uuid||"",h=e.label||"",p=t.label||"";if(d===u)throw new Error(`Cannot link ${h} ${d} to itself`);const f=Object.entries(o).filter((([e])=>!i||e===i)).flatMap((([e,t])=>(null===t||void 0===t?void 0:t.map((t=>[e,t])))||[]));let b,m="No available links that match "+(i?`that match ${i}`:"");for(const[x,g]of f){const e=g.from_allowed_labels.includes(h)&&g.to_allowed_labels.includes(p),t=g.is_bidirectional&&g.from_allowed_labels.includes(p)&&g.to_allowed_labels.includes(h);if(!e&&!t){m=`No available links between ${h} ${d} and ${p} ${u}`;continue}const o=p+u,i=h+d,f=t&&(e&&o.localeCompare(i)<0||!e),v=f?u:d,y=f?d:u;if(n.find((e=>e.label===x&&e.from===v&&e.to===y)))m=`Link already exists from ${v} to ${u}`;else if(b=r({uuid:s().v4(),is_bidirectional:g.is_bidirectional,label:x,from:v,to:y,attributes:null!==c&&void 0!==c?c:{}},a&&{metadata:a}),b&&!l)break}if(b)return b;throw new Error(m)}},703818:function(e,t,o){o.d(t,{Gj:function(){return u},Qs:function(){return p},BG:function(){return f},k$:function(){return b},rQ:function(){return m},EW:function(){return x},Ak:function(){return g},Jo:function(){return v}});var n,s,i,r,c=o(439804),a=o.n(c);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function d(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),n.forEach((function(t){l(e,t,o[t])}))}return e}function u(e){const t=a().get(e,"subchoices");return a().isArray(t)&&!a().isEmpty(t)}function h(e,t){var o;const n=(null!==(o=e.display)&&void 0!==o?o:e.choice).toUpperCase();var s;const i=(null!==(s=t.display)&&void 0!==s?s:t.choice).toUpperCase();return n.localeCompare(i)}function p(e){if(!e)return[];const t=[];for(const o of e){const e=o;u(o)&&(e.subchoices=p(o.subchoices)),t.push(e)}return t.sort(h)}function f(e,t=new Set,o={}){const n=(e,s=0,i=!1,r=new Set,c)=>{r.add(e);const l=i||t.has(e.choice+s);var u;c=null!==(u=o[e.choice])&&void 0!==u?u:c;const h=a().map(a().filter(e.subchoices,(e=>!r.has(e))),(e=>n(e,s+1,l,r,c))),p=a().sortBy(h,(([{subtreeSize:e,subchoices:t}])=>e>0?0:t&&t.length>0?1:2)),f=a().sumBy(h,(([{subtreeSize:e}])=>e));return[d({},e,{depth:s,flagged:i,color:c,subtreeSize:f+1}),...a().flatten(p)]};return n(e)}function b(e){return e.reduce(((e,{choice:t,display:o,subchoices:n})=>(n&&n.length>0?e[t]={display:o,subchoices:b(n)}:e[t]={display:o},e)),{})}function m(e){return Object.keys(e).reduce(((t,o)=>{const n=e[o];return n.subchoices?t.push({choice:o,display:n.display,subchoices:m(n.subchoices)}):t.push({choice:o,display:n.display}),t}),[])}function x(e,t,o=[]){for(const[n,s]of e.entries()){if(s.choice===t.choice)return o.concat([n]);if(s.subchoices){const e=x(s.subchoices,t,o.concat([n]));if(e.length>0)return e}}return[]}function g(e){return e?Object.values(e).reduce(((e,t)=>(e+=g(t.subchoices))+1),0):0}function v(e,t,o,n=new Set){var s;n.add(e);const i=(null!==(s=e.display)&&void 0!==s?s:e.choice).toLowerCase().includes(t.toLowerCase()),r=o||i,c=[],a=new Set,l=new Set;if(e.subchoices){const o=e.subchoices.filter((e=>!n.has(e)));for(const e of o){const o=v(e,t,r,n);o.node&&c.push(o.node),o.matches.forEach((e=>a.add(e))),o.matchesString.forEach((e=>l.add(e)))}}if(r||c.length>0||"root"===e.choice){const t=d({},e,{subchoices:c});return i&&(a.add(t),l.add(t.choice)),{node:t,matches:a,matchesString:l}}return{node:void 0,matches:a,matchesString:l}}!function(e){e.Added="Added",e.Edited="Edited",e.Deleted="Deleted"}(n||(n={})),function(e){e.Requested="Requested",e.InReview="In Review",e.Realigning="Realigning",e.Approved="Approved"}(s||(s={})),function(e){e.InReview="In Review",e.Approved="Approved",e.Rejected="Rejected"}(i||(i={})),function(e){e.Submitted="Submitted",e.InProgress="In Progress",e.Completed="Completed"}(r||(r={}))}}]);