"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9058],{368663:function(e,s,i){i.d(s,{d:function(){return N}});var t=i(824246),n=i(298784),r=i.n(n),o=i(827378),c=i(66285),a=i(948106),l=i(802638),d=i(76882),u=i(75896),p=i(336235),h=i(746332),m=i(431350),g=i(679892),f=i.n(g),x=i(703818),b=i(68649),v=i(625008),y=i(792739),j=i(222091),S=i.n(j),O=i(995632),E=i(434515),L=i(455045);var R=({ontologies:e,open:s,onClose:i})=>{const{0:n,1:c}=(0,o.useState)({choice:""}),{0:a,1:l}=(0,o.useState)(0),{0:d,1:u}=(0,o.useState)(1),[p,h]=(0,O.Z)(!1),m=(0,o.useMemo)((()=>{const s=(0,x.k$)(e[a].ontology),i=(0,x.k$)(e[d].ontology),t=r().merge(s,i);return(0,x.rQ)(t)}),[e,a,d]),{0:g,1:f}=(0,o.useMemo)((()=>{const s={},i={},t=S().diff((0,x.k$)(e[a].ontology),(0,x.k$)(e[d].ontology));if(!t)return[s,i];function n(e,i){for(const t of Object.keys(e))e[t].subchoices&&n(e[t].subchoices,i),s[t]=t in s?"goldenrod":i}for(const e of t)if(e.path)if("D"===e.kind){const t=e.lhs.subchoices?(0,x.Ak)(e.lhs.subchoices)+1:Object.keys(e.lhs).length;for(const[s,n]of e.path.entries()){if(s===e.path.length-1&&!e.lhs.subchoices)break;const r=n+(s/2+1);r in i?i[r].deletions+=t:i[r]={additions:0,deletions:t},s===e.path.length-1&&(i[r].deletions-=1)}var o;(null!==(o=e.lhs.display)&&void 0!==o?o:e.lhs.subchoices)?(s[r().last(e.path)]=r().last(e.path)in s?"goldenrod":"red",e.lhs.subchoices&&n(e.lhs.subchoices,"red")):n(e.lhs,"red")}else if("N"===e.kind){const t=e.rhs.subchoices?(0,x.Ak)(e.rhs.subchoices):Object.keys(e.rhs).length;for(const[s,n]of e.path.entries()){if(s===e.path.length-1&&!e.rhs.subchoices)break;const r=n+(s/2+1);r in i?i[r].additions+=t:i[r]={additions:t,deletions:0}}var c;(null!==(c=e.rhs.display)&&void 0!==c?c:e.rhs.subchoices)?(s[r().last(e.path)]=r().last(e.path)in s?"goldenrod":"green",e.rhs.subchoices&&n(e.rhs.subchoices,"green")):n(e.rhs,"green")}else if("E"===e.kind){for(const[s,t]of e.path.entries()){if(s===e.path.length-2)break;const n=t+(s/2+1);n in i?(i[n].additions+=1,i[n].deletions+=1):i[n]={additions:1,deletions:1}}s[e.path[e.path.length-2]]="goldenrod"}return[s,i]}),[e,a,d]),b=(0,o.useMemo)((()=>{const e=JSON.parse(JSON.stringify(f));for(const s of Object.keys(e))e[s]&&e[s].deletions>0?e[s]={deletions:e[s].deletions}:delete e[s];return e}),[f]),j=(0,o.useMemo)((()=>{const e=JSON.parse(JSON.stringify(f));for(const s of Object.keys(e))e[s]&&e[s].additions>0?e[s]={additions:e[s].additions}:delete e[s];return e}),[f]);return 0===e.length?(0,t.jsx)(v.$j,{}):(0,t.jsxs)(v.Vq,{open:s,onClose:i,style:{overflow:"hidden"},children:[(0,t.jsx)(v.$N,{children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontSize:18},children:"Version Diff"}),(0,t.jsxs)("div",{style:{display:"flex",paddingLeft:30},children:[(0,t.jsx)(L.Z,{ontologies:e,selectedOntology:a,setSelectedOntology:l}),(0,t.jsx)("div",{style:{marginRight:10},children:(0,t.jsx)(y.G,{icon:["far","arrow-right"],size:"sm"})}),(0,t.jsx)(L.Z,{ontologies:e,selectedOntology:d,setSelectedOntology:u}),(0,t.jsx)("div",{onClick:()=>h(!1),style:{marginRight:10,cursor:"pointer"},children:(0,t.jsx)(y.G,{icon:[p?"far":"fas","line-columns"],size:"sm"})}),(0,t.jsx)("div",{onClick:()=>h(!0),style:{cursor:"pointer"},children:(0,t.jsx)(y.G,{icon:[p?"fas":"far","align-justify"],size:"sm"})})]})]})}),(0,t.jsx)(v.cZ,{children:(0,t.jsxs)("div",{children:["Legend:",(0,t.jsx)("span",{style:{marginLeft:"10px",color:"green"},children:"Additions"}),(0,t.jsx)("span",{style:{marginLeft:"10px",color:"red"},children:"Deletions"}),(0,t.jsx)("span",{style:{marginLeft:"10px",color:"goldenrod"},children:"Changes"})]})}),(0,t.jsx)(v.cZ,{style:{display:"flex",maxHeight:"60vh",padding:"0px 0px 0px 10px"},children:p?(0,t.jsx)(E.Z,{ontologies:[{name:"inline",ontology:m,rawOntology:"",changeList:[]}],selectedOntology:0,colorMap:g,changes:f}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E.Z,{ontologies:e,selectedOntology:a,selectedChoice:n,setSelectedChoice:c,colorMap:g,changes:b}),(0,t.jsx)(E.Z,{ontologies:e,selectedOntology:d,selectedChoice:n,setSelectedChoice:c,colorMap:g,changes:j})]})})]})},I=i(283806),H=i(135647);const w="https://static.scale.com/uploads/61095caaada54100bb515474/no_examples.png";var T=({ontologyHistory:e,priorityLabels:s})=>{var i,n,c,a,l;const d=_(),{0:u,1:p}=(0,o.useState)({choice:""}),{0:h,1:m}=(0,o.useState)(0),{0:g,1:b}=(0,o.useState)(!1),y=o.useRef(null),j=u.description||u.attachments&&(null===(i=u.attachments)||void 0===i?void 0:i.length)>0,S=!r().isEmpty(u.scenarios)||!r().isEmpty(u.courses)||!r().isEmpty(u.links);return(0,o.useEffect)((()=>{if(m(e.length-1),e.length>0){const s=e[e.length-1];s.ontology=(0,x.Qs)(s.ontology),p(s.ontology[0])}}),[e]),0===e.length?(0,t.jsx)(v.$j,{}):(0,t.jsxs)("div",{ref:y,style:{height:"70vh"},className:"jsx-74bcf2991f4fce52 "+(d.viewer||""),children:[e.length>=2&&(0,t.jsx)(R,{ontologies:e,open:g,onClose:()=>b(!1)}),(0,t.jsx)("div",{className:"jsx-74bcf2991f4fce52 "+(d.list||""),children:e[h]&&(0,t.jsx)(E.Z,{ontologies:e,selectedOntology:h,setSelectedOntology:m,selectedChoice:u,setSelectedChoice:p,priorityLabels:s})}),(0,t.jsxs)("div",{className:"jsx-74bcf2991f4fce52 "+(d.information||""),children:[(0,t.jsxs)("div",{className:"jsx-74bcf2991f4fce52 "+(d.header||""),children:[(0,t.jsx)("div",{className:"jsx-74bcf2991f4fce52 "+(d.title||""),children:(0,t.jsx)(v.H2,{children:null!==(O=u.display)&&void 0!==O?O:u.choice})}),e.length>=2&&(0,t.jsx)("div",{className:"jsx-74bcf2991f4fce52 "+(d.actions||""),children:(0,t.jsx)(v.zx,{onClick:()=>b(!0),type:"primary",children:"Version Diff"})})]}),(0,t.jsxs)("div",{className:"jsx-74bcf2991f4fce52 "+(d.details||""),children:[j&&(0,t.jsxs)("div",{className:"jsx-74bcf2991f4fce52 "+(d.description||""),children:[(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:H.Z.render(u.description||"")},style:{paddingBottom:10},className:"jsx-74bcf2991f4fce52"}),null===(n=u.attachments)||void 0===n?void 0:n.map((e=>(0,t.jsx)("img",{src:e.url,className:"jsx-74bcf2991f4fce52"},e.url))),u.attachments&&!u.attachments.length&&(0,t.jsx)("img",{src:w,width:"30%",className:"jsx-74bcf2991f4fce52"})]}),S&&(0,t.jsxs)("div",{className:"jsx-74bcf2991f4fce52 "+(d.training||""),children:[!r().isEmpty(u.courses)&&(0,t.jsx)(v.H3,{children:"Courses"}),null===(c=u.courses)||void 0===c?void 0:c.map((e=>{var s;return(0,t.jsx)(I.Z,{path:`/course?id=${e.id}`,children:null!==(s=e.name)&&void 0!==s?s:e.id},e.id)})),!r().isEmpty(u.scenarios)&&(0,t.jsx)(v.H3,{children:"Scenarios"}),null===(a=u.scenarios)||void 0===a?void 0:a.map((e=>{var s;return(0,t.jsx)(I.Z,{path:`/training?trainingId=${e.id}`,children:null!==(s=e.name)&&void 0!==s?s:e.id},e.id)})),!r().isEmpty(u.links)&&(0,t.jsx)(v.H3,{children:"Links"}),null===(l=u.links)||void 0===l?void 0:l.map((e=>(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"jsx-74bcf2991f4fce52",children:e.url},e.url)))]})]})]}),(0,t.jsx)(f(),{id:"74bcf2991f4fce52",children:"li,p{line-height:1.2}"})]});var O};const _=(0,b.ZL)((e=>({viewer:{display:"flex",flexDirection:"row"},list:{borderRight:`1px solid ${e.colors.gray10}`,overflow:"auto",width:"50%"},information:{width:"100%",paddingLeft:24},header:{display:"flex",alignItems:"center",justifyContent:"space-between"},title:{display:"flex",gap:`${e.spacing(1)}px`},actions:{display:"flex",alignItems:"center",gap:`${e.spacing(2)}px`,flexShrink:0},details:{display:"flex",height:"67vh"},description:{paddingRight:12,overflow:"auto"},training:{borderLeft:`1px solid ${e.colors.gray10}`,display:"flex",flexDirection:"column",width:"20%",paddingLeft:10}})));var k;!function(e){e.Instructions="instructions",e.Ontology="ontology",e.Guidance="guidance"}(k||(k={}));const N=({assignment:e,isOpen:s,onClose:i,instruction:n,project:g,specializedInstructions:f,instructionList:x,instructionObjectId:b,taskParams:v,instructionsURL:y,zIndex:j,isReviewMode:S,handleOpenNewTab:O})=>{var E;const L=(0,p.Z)(`(max-width: ${h.MOBILE_THRESHOLD})`),{0:R,1:I}=(0,o.useState)(k.Instructions);return(0,t.jsxs)(l.u_,{isOpen:s,onRequestClose:i,inset:L?"0":void 0,borderRadius:L?"0":void 0,margin:L?"0":b?"1% auto 20px":void 0,contentLabel:"Instructions",maxWidth:b?"1064px":"auto",maxHeight:b?"97vh":void 0,zIndex:j||1e3,children:[(0,t.jsx)(l.xB,{onRequestClose:i,children:(0,t.jsxs)("div",{style:{display:"inline-flex"},children:[(0,t.jsxs)("div",{children:[y&&(0,t.jsx)("div",{style:{position:"absolute"},children:(0,t.jsx)(m.zx,{href:y,target:"_blank",rel:"noopener noreferrer",type:"primary",onClick:O,children:"Open in New Tab"})}),(0,t.jsx)("div",{onClick:()=>I(k.Instructions),style:{cursor:"pointer",fontWeight:R===k.Instructions?600:100},children:"Instructions"}),f&&(0,t.jsx)(c.Z,{style:{marginTop:"10px"},severity:"info",children:f})]}),(null===e||void 0===e?void 0:e.ontologyHistory)&&(0,t.jsx)("div",{onClick:()=>I(k.Ontology),style:{cursor:"pointer",marginLeft:"30vw",fontWeight:R===k.Ontology?600:100},children:"Ontology"}),(null===e||void 0===e?void 0:e.ontologyInstructions)&&(0,t.jsx)("div",{onClick:()=>I(k.Guidance),style:{cursor:"pointer",marginLeft:"30vw",fontWeight:R===k.Guidance?600:100},children:"Guidance"})]})}),(0,t.jsxs)(l.fe,{children:[R===k.Instructions&&(!!(null===v||void 0===v?void 0:v.minilidarSinglePathInstruction)&&(0,t.jsx)(a.Z,{instructions:v.minilidarSinglePathInstruction})||b&&(0,t.jsx)("div",{style:{width:"1000px !important"},children:(0,t.jsx)(d.Z,{instructionObjectId:b,isEdgeCase:!!(null===v||void 0===v?void 0:v.edgeCaseSubtask),isReviewMode:S})})||!r().isEmpty(x)&&!x.refreshersOnly&&(0,t.jsx)(u.ZP,{instructionList:x,filter:(0,u.bq)(v)})||n&&(0,t.jsx)(a.Z,{instructions:n,project:g})),R===k.Ontology&&(null===e||void 0===e?void 0:e.ontologyHistory)&&(0,t.jsx)(T,{ontologyHistory:null===e||void 0===e?void 0:e.ontologyHistory,priorityLabels:null===e||void 0===e||null===(E=e.config)||void 0===E?void 0:E.priorityLabels}),R===k.Guidance&&(null===e||void 0===e?void 0:e.ontologyInstructions)&&(0,t.jsx)(T,{ontologyHistory:[null===e||void 0===e?void 0:e.ontologyInstructions]})]})]})}},633407:function(e,s,i){i.d(s,{ef:function(){return n},Ld:function(){return r}});var t=i(572084);const n=e=>e.target-e.progress,r=e=>e.status===t.jbA.Resolved&&e.amountHundredthsOfCents>0},135431:function(e,s,i){var t=i(824246),n=i(827378),r=i(679892),o=i.n(r),c=i(298784),a=i.n(c),l=i(138944),d=i(792739),u=i(777611),p=i(50682),h=i.n(p),m=i(308609),g=i(135647),f=i(35614),x=i(431350),b=i(687192),v=i(939196),y=i(758795),j=i(368663),S=i(68649),O=i(421805),E=i(161320),L=i.n(E),R=i(60042),I=i.n(R),H=i(625008),w=i(746332),T=i(336235),_=i(907607),k=i(416233);function N(e,s,i,t,n,r,o){try{var c=e[r](o),a=c.value}catch(l){return void i(l)}c.done?s(a):Promise.resolve(a).then(t,n)}function C(e,s,i){return s in e?Object.defineProperty(e,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[s]=i,e}function D(e){for(var s=1;s<arguments.length;s++){var i=null!=arguments[s]?arguments[s]:{},t=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(i).filter((function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable})))),t.forEach((function(s){C(e,s,i[s])}))}return e}const M=(0,S.ZL)({courseHeader:{marginBottom:"32px",paddingInlineStart:"32px"},courseHeaderResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{display:"none"}},logo:{width:"120px",display:"inline-block"}}),B=e=>{const s=M();return(0,t.jsx)("div",{className:I()(s.courseHeader,{[s.courseHeaderResponsive]:e.responsive}),children:(0,t.jsx)(u.ZP,{href:"/training-center",children:(0,t.jsx)("a",{children:(0,t.jsx)("div",{className:s.logo,children:(0,t.jsx)(v.Z,{fill:"black"})})})})})},P=(0,S.ZL)({bar:{height:16,width:360,display:"flex"},barResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{width:"100%"}},segment:({dir:e})=>({height:"100%",margin:0,width:"auto",flexGrow:1,background:"rgba(255, 255, 255, 0.1)",pointerEvents:"none","&.filled, &.halfFilled":{pointerEvents:"all",background:"rgba(255, 255, 255, 1)",cursor:"pointer",transition:"all 0.2s","&:hover":{boxShadow:"0px 0px 12px rgba(255, 255, 255, 0.5)"}},"&.halfFilled":{opacity:.5},"&:first-child":{borderTopLeftRadius:"rtl"===e?0:100,borderBottomLeftRadius:"rtl"===e?0:100,borderTopRightRadius:"rtl"===e?100:0,borderBottomRightRadius:"rtl"===e?100:0},"&:nth-last-child(2)":{borderTopLeftRadius:"rtl"===e?100:0,borderBottomLeftRadius:"rtl"===e?100:0,borderTopRightRadius:"rtl"===e?0:100,borderBottomRightRadius:"rtl"===e?0:100}}),courseHeader:{padding:"32px",backgroundColor:"var(--color-RemoGreen)",color:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},courseHeaderResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{padding:"16px",flexDirection:"column",maxHeight:"87px",alignItems:"flex-start"}},courseTitle:{marginInlineEnd:"32px",fontSize:"18px",fontWeight:500,display:"flex"},courseTitleResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{marginInlineEnd:"0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},courseProgress:{flexShrink:0},courseProgressResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{width:"100%",marginTop:"16px"}},certificationTimeRemaining:{fontSize:"18px"}}),A=e=>{const{t:s,i18n:i}=(0,O.$G)("course"),n=P({dir:i.dir()}),r=J("title",i.language,e.course);return(0,t.jsxs)("div",{className:I()(n.courseHeader,{[n.courseHeaderResponsive]:e.responsive}),children:[(0,t.jsxs)("div",{className:I()(n.courseTitle,{[n.courseTitleResponsive]:e.responsive}),children:[!a().isEmpty(e.course.instruction)&&(0,t.jsx)(G,{instruction:e.course.instruction,responsive:e.responsive}),r]}),(0,t.jsx)("div",{className:I()(n.courseProgress,{[n.courseProgressResponsive]:e.responsive}),children:(()=>{const s=J("sections",i.language,e.course),r=s.length,o=a().map(s,"title");return o.push("Review"),(0,t.jsxs)("div",{className:I()(n.bar,{[n.barResponsive]:e.responsive}),children:[a().map(a().range(r+1),((s,i)=>{let r,c;return s<=e.courseProgress.currentSection&&(e.currentSection===e.courseProgress.currentSection||s===e.currentSection?c=!0:r=!0),(0,t.jsx)("div",{onClick:()=>e.handleSectionNavigate(s),"data-tip":o[s],"data-for":"header-tooltip",className:(0,l.default)(n.segment,{filled:c,halfFilled:r})},i)})),(0,t.jsx)(h(),{id:"header-tooltip"})]})})()}),e.course.isCertification&&void 0!==e.certificationTimeRemainingSecs&&e.courseProgress.currentSection!==e.course.sections.length&&(0,t.jsxs)("div",{className:n.certificationTimeRemaining,children:[s("certification-time-remaining"),":"," ",L().utc(L().duration(e.certificationTimeRemainingSecs,"seconds").asMilliseconds()).format("HH:mm:ss")]})]})},G=({instruction:e,responsive:s})=>{const{0:i,1:r}=(0,n.useState)(!1),o=(0,T.Z)(`(max-width: ${w.MOBILE_THRESHOLD})`),c=`<iframe src="${e}"></iframe>`;return(0,t.jsxs)("div",{className:"launcher",onClick:()=>{if(s&&o){const e=document.createElement("div");e.innerHTML=c||"";const s=e.querySelector("iframe");if(s&&s.attributes.getNamedItem("src")){const e=s.attributes.getNamedItem("src").value;if((0,_.i)(e))return void window.open(e,"_blank")}}r(!i)},children:[(0,t.jsx)("span",{className:"cta",children:(0,t.jsx)(d.G,{icon:"info-circle"})}),(0,t.jsx)(j.d,{isOpen:i,instruction:c,instructionsURL:e,onClose:()=>r(!1)}),(0,t.jsx)("style",{children:"\n        .launcher {\n          margin: 0 24px 0 0;\n          display: flex;\n          cursor: pointer;\n        }\n\n        .launcher .cta {\n          color: white;\n        }\n      "})]})},Z=({course:e})=>{const s=e.permissionsRequired;return(0,t.jsxs)("div",{className:"jsx-10081c135d9e78b2 requirements-list",children:[(0,t.jsxs)("div",{className:"jsx-10081c135d9e78b2 requirement",children:[(0,t.jsx)("em",{className:"jsx-10081c135d9e78b2",children:(0,t.jsx)(d.G,{icon:"check"})}),"Willingness to learn!"]},"first"),a().map(s,(e=>(0,t.jsxs)("div",{className:"jsx-10081c135d9e78b2 requirement",children:[(0,t.jsx)("em",{className:"jsx-10081c135d9e78b2",children:(0,t.jsx)(d.G,{icon:"check"})}),"Enabled on ",(0,t.jsx)("strong",{className:"jsx-10081c135d9e78b2",children:e.name||e.title})," tasks"]},e.title))),(0,t.jsx)(o(),{id:"10081c135d9e78b2",children:".requirements-list.jsx-10081c135d9e78b2{margin-top:32px}.requirement.jsx-10081c135d9e78b2{margin-bottom:24px;font-weight:bold}em.jsx-10081c135d9e78b2{-webkit-padding-end:8px;-moz-padding-end:8px;padding-inline-end:8px;color:var(--color-RemoGreen)}"})]})},$=e=>{const{isInQueue:s,numCourses:i,query:n,course:r,actions:c,onCourseStart:l}=e,{t:d,i18n:u}=(0,O.$G)("course"),p=J("title",u.language,e.course),h=J("description",u.language,e.course),m=a().round(r.totalRewardHundredthsOfCents/1e4,2);return(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" course-intro",children:[s&&(0,t.jsx)(V,{course:r}),a().round(r.totalRewardHundredthsOfCents/100)>0&&(0,t.jsx)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" reward",children:d("intro-pay",{pay:`$${m}`})}),(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" title",children:[d("intro-welcome")," ",(0,t.jsx)("strong",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]]),children:p})]}),(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" body",children:[(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" description",children:[(0,t.jsx)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" label",children:d("intro-curriculum")}),(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:g.Z.render(h||"")},className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])}),s&&(i>1?(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]]),children:[" ",d("intro-many-to-go-1")," ",i>2?(0,t.jsxs)("span",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]]),children:[(0,t.jsx)("b",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]]),children:i-1})," ",d("intro-many-to-go-2-plural")]}):d("intro-many-to-go-2-single")," "]}):(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]]),children:[" ",(0,t.jsx)("b",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]]),children:d("intro-one-to-go")})]}))]}),!a().isEmpty(r.permissionsRequired)&&(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" requirements",children:[(0,t.jsx)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" label",children:d("requirements")}),(0,t.jsx)(Z,{course:r})]})]}),(0,t.jsxs)("div",{className:o().dynamic([["d72b249bf6d587f",[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD]]])+" footer",children:[(0,t.jsx)(x.zx,{style:{width:"100%"},type:"primary",onClick:l,children:d("start")}),r.canSkip&&(0,t.jsx)(x.zx,{onClick:()=>c.skipCourse(n,r._id),children:"Skip (Corp only)"})]}),(0,t.jsx)(o(),{id:"d72b249bf6d587f",dynamic:[w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD,w.MOBILE_THRESHOLD],children:`.course-intro.__jsx-style-dynamic-selector{color:black}.title.__jsx-style-dynamic-selector{border-bottom:1px solid var(--color-RemoGray10);font-size:20px;padding:32px}@media(max-width:${w.MOBILE_THRESHOLD}){.title.__jsx-style-dynamic-selector{font-size:18px;padding:32px}}.body.__jsx-style-dynamic-selector{margin-bottom:32px;display:grid;grid-template-columns:auto auto;grid-column-gap:96px;font-size:18px;padding:32px}@media(max-width:${w.MOBILE_THRESHOLD}){.body.__jsx-style-dynamic-selector{grid-column-gap:initial;font-size:12px}}.footer.__jsx-style-dynamic-selector{background:var(--color-RemoGray01);width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center;padding:16px}@media(max-width:${w.MOBILE_THRESHOLD}){.footer.__jsx-style-dynamic-selector{position:absolute;bottom:0;background:var(--color-RemoGray01);width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;padding:16px}}.requirements.__jsx-style-dynamic-selector{width:360px;-webkit-padding-start:48px;-moz-padding-start:48px;padding-inline-start:48px;-webkit-border-start:1px solid var(--color-RemoGray01);-moz-border-start:1px solid var(--color-RemoGray01);border-inline-start:1px solid var(--color-RemoGray01)}.label.__jsx-style-dynamic-selector{margin-bottom:1em;font-weight:600;font-size:18px;color:var(--color-RemoGreen)}.reward.__jsx-style-dynamic-selector{margin:32px 32px 0;padding:8px 16px!important;-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);background:var(--color-RemoGreen);color:white;font-weight:500}`})]})},z=(0,S.ZL)({courseSummary:{padding:"32px"},courseSummaryResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{height:"calc(100% - 87px)",overflowY:"scroll"}},courseSummaryActions:{marginTop:"64px",display:"flex",alignItems:"center"},courseSummaryActionsResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{flexDirection:"column",marginTop:"0"}},courseSummaryIntro:{lineHeight:"2em"},courseSummaryList:{margin:"32px 0"}}),U=e=>{var s,i;const n=z(),{course:r,handleReviewCourse:o,handleCompleteSupplementalCourse:c,returnUrl:l,query:d}=e,{t:u,i18n:p}=(0,O.$G)("course"),h=J("title",p.language,r),m=J("sections",p.language,r);let g;var f,x;e.course.isCertification&&(g=((null===(f=e.courseProgress.certificationInfo)||void 0===f||null===(x=f.certificationPassedSections)||void 0===x?void 0:x.length)||0)/e.course.sections.filter((e=>y.Z0.includes(e.type))).length);return(0,t.jsxs)("div",{className:I()(n.courseSummary,{[n.courseSummaryResponsive]:e.responsive}),children:[!e.course.isCertification&&(0,t.jsxs)("div",{className:n.courseSummaryIntro,children:[u("done-great-job")," ",(0,t.jsx)("strong",{children:h}),"."," "]}),e.course.isCertification?(null===(s=e.courseProgress)||void 0===s||null===(i=s.certificationInfo)||void 0===i?void 0:i.certificationPassed)?(0,t.jsxs)("div",{children:[u("passed-the-certification")," ",(0,t.jsx)("strong",{children:h}),".",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),u("certification-accuracy")," ",(0,t.jsxs)("strong",{children:[Math.floor(100*(null!==g&&void 0!==g?g:0)),"%"]}),"."]}):(0,t.jsxs)("div",{children:[u("failed-the-certification")," ",(0,t.jsx)("strong",{children:h}),".",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),u("certification-accuracy")," ",(0,t.jsxs)("strong",{children:[Math.floor(100*(null!==g&&void 0!==g?g:0)),"%"]}),"."]}):null,!e.course.isCertification&&(0,t.jsx)("div",{className:n.courseSummaryList,children:a().map(m,((e,s)=>(0,t.jsx)(q,{section:e},s)))}),(0,t.jsx)("div",{className:I()(n.courseSummaryActions,{[n.courseSummaryActionsResponsive]:e.responsive}),children:(0,t.jsx)(W,{query:d,returnUrl:l,onContinueTasking:c,disableReview:!!e.course.isCertification,onReviewCourse:o,responsive:e.responsive})})]})},q=e=>{const{section:s}=e;return(0,t.jsxs)("div",{className:"jsx-82a33bba39b72bc7 section",children:[(0,t.jsx)("strong",{className:"jsx-82a33bba39b72bc7",children:(0,t.jsx)(d.G,{icon:"check"})}),s.title,(0,t.jsx)(o(),{id:"82a33bba39b72bc7",children:".section.jsx-82a33bba39b72bc7{margin:24px 0}.section.jsx-82a33bba39b72bc7 strong.jsx-82a33bba39b72bc7{-webkit-padding-end:12px;-moz-padding-end:12px;padding-inline-end:12px;color:var(--color-RemoGreen)}"})]})},F=(0,S.ZL)({divider:{width:"16px"},dividerResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{height:"16px"}}}),W=e=>{const s=F(),{query:i,returnUrl:r,disableReview:o,onContinueTasking:c,onReviewCourse:a}=e,{t:l}=(0,O.$G)("course");let d=null;if(r){const e=r.replace(/[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]/gi,""),s=i.redirect_url?i.redirect_url.replace(/[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]/gi,""):"";d=(0,t.jsx)(x.zx,{type:"primary",href:s?`${e}?redirect_url=${s}`:e,children:"Continue"})}else d=c?(0,t.jsx)(x.zx,{type:"primary",onClick:c,children:"Continue Tasking"}):(0,t.jsx)(x.zx,{type:"primary",href:"/tasks",children:l("start-tasking")});return(0,t.jsxs)(n.Fragment,{children:[d,(0,t.jsx)("div",{className:I()(s.divider,{[s.dividerResponsive]:e.responsive})}),!o&&(0,t.jsx)(x.zx,{onClick:a,children:l("review-course")})]})},V=e=>{const{t:s}=(0,O.$G)("course"),{course:i}=e;return(0,t.jsxs)("div",{className:"jsx-9e0ecbc44965fbe4 queue-course-title",children:[(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:`${s("intro-top")} <strong>${a().join(i.permissionGroupsBlocked,", ")}</strong> project.`},className:"jsx-9e0ecbc44965fbe4"}),(0,t.jsx)("a",{href:"https://remotasks.zendesk.com/hc/articles/360022619273-Courses-Will-Now-Appear-While-Tasking",target:"_blank",rel:"noopener noreferrer",className:"jsx-9e0ecbc44965fbe4 btn-clear",children:s("intro-learn-more")}),(0,t.jsx)(o(),{id:"9e0ecbc44965fbe4",children:".queue-course-title.jsx-9e0ecbc44965fbe4{padding:16px 32px;background-color:var(--color-RemoGreen);color:white;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.btn-clear.jsx-9e0ecbc44965fbe4{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;display:block;-webkit-padding-start:16px;-moz-padding-start:16px;padding-inline-start:16px;padding:8px 16px;-webkit-border-radius:var(--border-radius);-moz-border-radius:var(--border-radius);border-radius:var(--border-radius);background:rgba(255,255,255,.1);color:white;font-weight:500;cursor:pointer}"})]})};class Q extends n.Component{componentDidMount(){this.props.userFromGetInitialProps&&this.props.actions.fetchCurrentUser(this.props.userFromGetInitialProps),this.props.query.id&&this.props.actions.fetchCourse(this.props.query.id,this.props.query.tag),window.addEventListener("beforeunload",this.handleUnmount)}componentDidUpdate(e){var s,i=this;return(s=function*(){const{course:s,courseProgress:t}=i.props.training;var n;a().isEmpty(s)||a().isEmpty(t)||(i.state.currentSection===s.sections.length&&i.timerID&&clearInterval(i.timerID),(null===(n=t.certificationInfo)||void 0===n?void 0:n.certificationTimeRemainingSecs)&&(void 0===i.state.certificationTimeRemainingSecs&&i.setState({certificationTimeRemainingSecs:t.certificationInfo.certificationTimeRemainingSecs}),null===i.timerID&&-1!==i.state.currentSection&&i.state.currentSection!==s.sections.length&&void 0!==i.state.certificationTimeRemainingSecs&&(i.timerID=setInterval((()=>{const e=i.state.certificationTimeRemainingSecs;e>0?i.setState({certificationTimeRemainingSecs:e-1}):i.props.actions.certificationTimeRemainingSecsSync(t._id,0)}),1e3))));const r=a().get(e,["training","courseProgress","currentSection"]),o=a().get(i.props,["training","courseProgress","currentSection"]);void 0===o||o===r||i.setState({currentSection:o})},function(){var e=this,i=arguments;return new Promise((function(t,n){var r=s.apply(e,i);function o(e){N(r,t,n,o,c,"next",e)}function c(e){N(r,t,n,o,c,"throw",e)}o(void 0)}))})()}componentWillUnmount(){this.handleUnmount()}handleUnmount(){void 0!==this.state.certificationTimeRemainingSecs&&this.props.actions.certificationTimeRemainingSecsSync(this.props.training.courseProgress._id,this.state.certificationTimeRemainingSecs),clearInterval(this.timerID)}handleStart(){var e;this.props.actions.beginCourse(this.props.training.course._id,this.props.permissionId),k.c.track("Course Started",{user:null===(e=this.props.user)||void 0===e?void 0:e._id,courseId:this.props.training.course._id})}handlePrevious(){this.state.currentSection>0&&this.setState({currentSection:this.state.currentSection-1})}handleContinue(e){this.state.currentSection===this.props.training.courseProgress.currentSection?this.props.actions.continueCourse(this.props.training.courseProgress._id,D({},e,{certificationTimeRemainingSecs:this.state.certificationTimeRemainingSecs})):this.setState({currentSection:this.state.currentSection+1})}handleSectionNavigate(e){var s;!!(null===(s=this.props.training.course.initialTestInfo)||void 0===s?void 0:s.isInitialTest)||this.setState({currentSection:e})}renderCourseSection(){var e,s;const{course:i,courseProgress:r}=this.props.training;if(this.state.currentSection>=i.sections.length)return(0,t.jsx)(U,{query:this.props.query,responsive:this.props.mobile,course:i,courseProgress:r,returnUrl:this.props.returnUrl,handleReviewCourse:()=>this.handleSectionNavigate(0),handleCompleteSupplementalCourse:this.props.handleCompleteSupplementalCourse});const o=J("sections",this.props.i18n.language,i)[this.state.currentSection];return(0,n.createElement)(f.ZP,D({responsive:this.props.mobile},o,{sectionIndex:this.state.currentSection,course:i,actions:this.props.actions,handlePrevious:this.handlePrevious,canAlwaysContinue:this.state.currentSection<r.currentSection||i.isCertification,handleContinue:this.handleContinue,key:this.state.currentSection,userFlags:null===(e=this.props.user)||void 0===e?void 0:e.featureFlags,user:null===(s=this.props.user)||void 0===s?void 0:s.id}))}renderCourse(){const{training:e,isInQueue:s,assignments:i}=this.props;if(e.isLoading)return(0,t.jsxs)("div",{className:"jsx-8d3b96866fe1f577 loading",children:[(0,t.jsx)(b.Z,{}),(0,t.jsx)(o(),{id:"8d3b96866fe1f577",children:".loading.jsx-8d3b96866fe1f577{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;padding:100px}"})]});if(this.props.training.courseError)return(0,t.jsxs)("div",{className:"jsx-5b15d25ab31919c5 content",children:[(0,t.jsxs)("h2",{className:"jsx-5b15d25ab31919c5",children:[(0,t.jsx)(d.G,{icon:"exclamation-circle",color:"var(--color-RemoRed)"}),"\xa0 There was an error loading this course"]}),(0,t.jsx)("p",{className:"jsx-5b15d25ab31919c5",children:this.props.training.courseError}),(0,t.jsx)(o(),{id:"5b15d25ab31919c5",children:".content.jsx-5b15d25ab31919c5{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-justify-content:center;justify-content:center;padding:100px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column}"})]});if(-1===this.state.currentSection)return(0,t.jsx)($,D({},e,{actions:this.props.actions,isInQueue:s,numCourses:i.length,query:this.props.query,permissionId:this.props.permissionId,onCourseStart:this.handleStart.bind(this)}));const n=a().get(this.props,["training","courseProgress","certificationInfo","certificationAttemptsSections"],[]),r=e.courseProgress.currentSection===this.state.currentSection&&(n[this.state.currentSection]||0)>=1;return(0,t.jsxs)("div",{className:I()({[this.props.classes.courseWrapperResponsive]:this.props.mobile}),children:[(0,t.jsx)(A,D({},e,{currentSection:this.state.currentSection,handleSectionNavigate:this.handleSectionNavigate,isInQueue:s,certificationTimeRemainingSecs:this.state.certificationTimeRemainingSecs,responsive:this.props.mobile})),r&&(0,t.jsx)(H.bZ,{severity:"warning",style:{margin:"1rem"},children:"Ooops! That doesn't seem right. Please try again."}),this.renderCourseSection()]})}render(){return(0,t.jsx)("div",{className:this.props.classes.coursePage,children:(0,t.jsxs)("div",{className:this.props.classes.courseContainer,children:[!this.props.isInQueue&&(0,t.jsx)(B,D({responsive:this.props.mobile},this.props.training)),(0,t.jsx)("div",{className:I()(this.props.classes.courseCard,{[this.props.classes.courseCardResponsive]:this.props.mobile}),children:this.renderCourse()})]})})}constructor(e){super(e),this.timerID=null,this.state={currentSection:-1},(0,m.Z)(this,"handlePrevious","handleContinue","handleSectionNavigate","handleUnmount")}}const J=(e,s,i)=>s===y._J.English||!y.V2.includes(e)||a().isEmpty((i.localizedContent||{})[s])?a().get(i,e):a().get(i.localizedContent,[s,e]),K=(0,H.kc)({coursePage:{height:"100%",width:"100vw",overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",background:"var(--color-RemoGray01)"},courseContainer:{width:"80vw",maxWidth:"1080px",padding:"64px 0",[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{padding:0,width:"100vw",height:"100vh"}},courseContainerResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{height:"100%",padding:"32px",width:"100%"}},courseCard:{boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.05)",borderRadius:"var(--border-radius)",background:"white",overflow:"hidden"},courseCardResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{height:"100%",overflow:"scroll"}},courseWrapperResponsive:{[`@media (max-width: ${w.MOBILE_THRESHOLD})`]:{height:"100%"}}});var Y;s.Z=(0,O.Zh)("course")((0,H.D2)(K)((Y=Q,e=>{const s=(0,T.Z)(`(max-width: ${w.MOBILE_THRESHOLD})`);return(0,t.jsx)(Y,D({mobile:s},e))})))},463953:function(e,s,i){i.d(s,{K:function(){return x},ZS:function(){return b},ZP:function(){return S}});var t=i(824246),n=i(298784),r=i.n(n),o=i(827378),c=i(520977),a=i(935870),l=i(811293),d=i(128819),u=i(302606),p=i(993866),h=i(565061),m=i(25840),g=i(315049);const f=e=>r().pickBy(e,r().isFunction);function x(e){return{user:e.user,batch:e.batch,batchStatus:e.batch.status,assignments:e.batch.assignments,claims:e.batch.claims,training:e.training,forceFixAssignment:e.batch.forceFixAssignment,postCompletionFeedback:e.batch.postCompletionFeedback,previousInstructiveAttemptResponse:e.batch.previousInstructiveAttemptResponse,previousInstructiveAttemptId:e.batch.previousInstructiveAttemptId,perProjectAccuracies:e.batch.perProjectAccuracies,perProjectTopMistakes:e.batch.perProjectTopMistakes,perProjectInstructionItemAccuracies:e.batch.perProjectInstructionItemAccuracies,perProjectInstructionItemLastSeen:e.batch.perProjectInstructionItemLastSeen,perProjectPassRate:e.batch.perProjectPassRate,currentProjectAccuracyBucket:e.batch.currentProjectAccuracyBucket}}function b(e){const s=f(h);return{actions:(0,l.DE)(s,e)}}const v=(0,l.UY)(f(m));const y=(0,l.md)(a.Z),j=(0,l.MT)(v,y);class S extends o.Component{componentDidMount(){g.Z.flushExpired(),h.fetchApi("/scaler/ping"),setInterval((()=>h.fetchApi("/scaler/ping")),3e5)}render(){const{children:e}=this.props;return(0,t.jsxs)("div",{style:{height:"100%"},children:[(0,t.jsx)(d.Z,{}),(0,t.jsx)(u.Z,{}),(0,t.jsx)(p.Z,{}),(0,t.jsx)(c.zt,{store:j,children:e})]})}}},283806:function(e,s,i){i.d(s,{Z:function(){return c}});var t=i(824246),n=(i(827378),i(773851));function r(e,s){if(null==e)return{};var i,t,n=function(e,s){if(null==e)return{};var i,t,n={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],s.indexOf(i)>=0||(n[i]=e[i]);return n}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)i=r[t],s.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}const o=(0,i(625008).ZL)((()=>({disabled:{pointerEvents:"none",cursor:"default",opacity:.5}})));var c=e=>{var{children:s}=e,i=r(e,["children"]);const{path:c,query:a,tooltip:l="will be opened in remotasks.com, you'll need to be logged in",disabled:d=!1}=i,u=o();return(0,t.jsx)("a",{href:(0,n.remotasksURL)(c,a),target:"_blank",rel:"noopener noreferrer","data-tip":l,"data-for":"remotasks-external-link",className:d?u.disabled:"",children:s})}},907607:function(e,s,i){var t;function n(e){if(e.trim().startsWith("https://"))try{if("docs.google.com"===new URL(e).hostname)return t.Invalid}catch(s){if(!(s instanceof TypeError))throw s}if(e.trim().startsWith("<iframe")){const i=document.createElement("div");i.innerHTML=e;const n=i.querySelector("iframe");if(!n)return t.NotApplicable;try{const e=new URL(n.src);if("docs.google.com"===e.hostname){const s="true"===e.searchParams.get("embedded"),i=e.pathname.endsWith("/pub");return s&&i?t.Valid:t.Invalid}}catch(s){if(!(s instanceof TypeError))throw s}}return t.NotApplicable}i.d(s,{U:function(){return t},i:function(){return n}}),function(e){e[e.NotApplicable=0]="NotApplicable",e[e.Invalid=1]="Invalid",e[e.Valid=2]="Valid"}(t||(t={}))},25840:function(e,s,i){i.r(s),i.d(s,{PENDING:function(){return l},ACTIVE:function(){return d},ENDED:function(){return u},batch:function(){return m},user:function(){return g},training:function(){return x}});var t=i(298784),n=i.n(t),r=i(141170),o=i(572084),c=i(565061),a=i(633407);const l="PENDING",d="ACTIVE",u="ENDED",p={assignments:[],claims:{},status:l},h=e=>e.assignmentType!==o.vxv.Course&&(0,r.F)(e)?e.attemptId:e._id;function m(e=p,s){switch(s.type){case c.EXTEND_BATCH:{const i=new Set(n().keys(e.claims));let t=e.assignments?e.assignments.slice():[];t=t.concat(s.assignments.filter((e=>!i.has(h(e)))));const r=Object.assign({},function(e){const s={};for(const i of e){const e=new Date;s[h(i)]={claimed:!0,claimedUntil:e,checkedAtClientTime:e,checkedAt:e,idleMinutes:1,maxClaim:new Date}}return s}(t),e.claims);return Object.assign({},e,{assignments:t,claims:r,status:t.length?d:u})}case c.UPDATE_CLAIMS:{const{currentPageHasEditLock:i,otherUserHasLock:t,canOverride:r}=s,o=Object.assign(e.claims,s.claims);return Object.assign({},e,{claims:o,otherUserHasLock:t,canOverrideEditLock:r},n().isBoolean(i)?{currentPageHasEditLock:i}:{})}case c.UPDATE_PROJECT_BENCHMARK_METRICS:{const i=s.perProjectBenchmarkMetrics;return Object.assign({},e,i)}case c.NEXT_ASSIGNMENT:case c.SKIP_ASSIGNMENT:case c.REPORT_ASSIGNMENT:case c.FLAG_ASSIGNMENT:return e.assignments.length>1?Object.assign({},e,{assignments:e.assignments.slice(1),forceFixAssignment:null}):Object.assign({},e,{assignments:[],status:l,forceFixAssignment:null});case c.COMPLETE_ASSIGNMENTS:return e.assignments.length-s.assignments.length>1?Object.assign({},e,{assignments:n().difference(e.assignments,s.assignments),forceFixAssignment:null}):Object.assign({},e,{assignments:[],status:l,forceFixAssignment:null});case c.SHOW_CORRUPTION_FEEDBACK:{const i=Object.assign({},e);return n().get(i,["claims",s.corruptionFeedbackAttempt,"corruptionFeedback"])&&(i.claims[s.corruptionFeedbackAttempt].corruptionFeedback=Object.assign(s.corruptionFeedback,{postReviewSubmission:!0,confidenceAction:s.confidenceAction,reviewTimeSecs:s.reviewTimeSecs})),i}case c.SHOW_POST_COMPLETION_FEEDBACK:return Object.assign({},e,{postCompletionFeedback:s.postCompletionFeedback});case c.COMPLETE_INSTRUCTIVE:if(!n().isEmpty(s.instructiveResponse)){const i=n().last(s.instructiveResponse.newInstructiveAttempts),t=n().get(i,"response")||n().get(s.instructiveResponse,"response"),r=!s.instructiveResponse.submitted;return Object.assign({},e,{forceFixAssignment:r,previousInstructiveAttemptResponse:t,previousInstructiveAttemptId:s.instructiveResponse._id.toString()})}return e;case c.SET_BONUSES:{const i=n().groupBy(e.bonuses,"_id"),t=n().map(e.newBonuses,"_id");let r=[];return s.first||(r=n().filter(s.bonuses,(e=>(0,a.Ld)(e)&&(!n().has(i,e._id)||!(0,a.Ld)(i[e._id][0]))&&!n().includes(t,e._id)))),Object.assign({},e,{bonuses:s.bonuses,newBonuses:n().concat(e.newBonuses||[],r)})}case c.DISPLAY_NEW_BONUS:{const i=n().filter(e.newBonuses,(e=>e._id!==s.bonus._id));return Object.assign({},e,{newBonuses:i})}default:return e}}function g(e=null,s){return s.type===c.SET_CURRENT_USER?s.user:e}const f={isLoading:!0,course:{},courseProgress:{},courseError:null};function x(e=f,s){switch(s.type){case c.TRAINING_ACTIONS.SET_LOADING:return Object.assign({},e,{isLoading:s.isLoading});case c.TRAINING_ACTIONS.SET_COURSE:return function(e={}){const s=n().find(n().get(e,"sections"),(e=>e.type===o.DOA.InstructionList));e.instructionList=n().get(s,"contents.instructionList")}(s.course),Object.assign({},e,{course:s.course});case c.TRAINING_ACTIONS.SET_COURSE_PROGRESS:return Object.assign({},e,{courseProgress:s.courseProgress});case c.TRAINING_ACTIONS.SET_COURSE_ERROR:return Object.assign({},e,{courseError:s.courseError});default:return e}}}}]);